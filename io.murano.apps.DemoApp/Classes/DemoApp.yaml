Namespaces:
  =:    io.murano.apps.DemoApp
  sys:  io.murano.system
  std:  io.murano


Name: DemoApp


Extends:  std:Application


Properties:
  name:
    Contract: $.string().notNull()

  instance:
    Contract: $.class(DemoInstance).notNull()


Workflow:
  deploy:
    Body:
      - $.instance.deploy()
      - $res: new(sys:Resources)
      - $template: $res.json('demo-explan.json')
      #TODO(dteselkin): Use call() as soon as agent will be able to
      #   return meaningful answer.
      #- $.instance.agent.call($template, $res)
      - $.instance.agent.send($template, $res)
